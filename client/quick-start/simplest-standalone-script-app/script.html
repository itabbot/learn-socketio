<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8" />
    <title></title>
  </head>
  <body>
    <div>
      <input type="text" id="msg" />
      <button onclick="sendmsg()">发送</button>
    </div>

    <!-- 引入独立脚本 -->
    <script src="./socket.io.min.js"></script>

    <script>
      // 初始化
      const socket = io('http://127.0.0.1:3000');

      // 监听连接成功事件
      socket.on('connect', (a) => {
        alert('连接成功');
      });

      // 监听“服务端响应消息”事件
      socket.on('rspmsg', (msg) => {
        alert(`服务端响应：“${msg}”`);
      });

      // 发送消息
      const sendmsg = function () {
        const msg = document.getElementById('msg').value;
        socket.emit('sendmsg', msg);
      };
    </script>
  </body>
</html>
